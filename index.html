<!DOCTYPE html>
<html>
<head>
  <title>RealMassive Activity Dashboard</title>
  <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="keen.dashboard.css">
</head>
<body>

  <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="./">RealMassive Activity Dashboard</a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav navbar-left">
          <li><a href="https://www.realmassive.com">Home</a></li>
          <li><a href="https://www.realmassive.com/admin">Admin</a></li>
          <li><a href="https://appengine.google.com">AppEngine</a></li>
        </ul>
      </div>
    </div>
  </div>

  <div class="fluid-container">
    <div class="row">

      <div class="col-sm-6">
        <div class="chart-wrapper">
          <div class="chart-title">
            Space Views per Day (30 days)
          </div>
          <div class="chart-stage">
            <div id="spaceviews-30d"></div>
          </div>
          <div class="chart-notes">
            Running total of Space Views over the past month
          </div>
      </div>
    </div>

      <div class="col-sm-6">
        <div class="chart-wrapper">
          <div class="chart-title">
            Portfolio Additions per Day (past 30 days)
          </div>
          <div class="chart-stage">
            <div id="portfolioadds-30d"></div>
          </div>
          <div class="chart-notes">
            Running total of Spaces added to Portfolios over the past month
          </div>
      </div>
    </div>

    </div>

    <div class="row">

      <div class="col-sm-6">
        <div class="chart-wrapper">
          <div class="chart-title">
            Space Views (24 hours)
          </div>
          <div class="chart-stage">
            <div id="spaceviews-24h"></div>
          </div>
          <div class="chart-notes">
            Running total of Space Views over the past 24 hours.
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="chart-wrapper">
          <div class="chart-title">
            Total Number of Spaces Added to Portfolio (past 24 hrs)
          </div>
          <div class="chart-stage">
            <div id="portfolioadds-24h"></div>
          </div>
          <div class="chart-notes">
            Total number of spaces added to portfolios in the previous 24 hrs.
          </div>
        </div>
      </div>

    </div>

    <div id="row">

      <div class="col-sm-4">
        <div class="chart-wrapper">
          <div class="chart-title">
            Spaces being Viewed (24 hours)
          </div>
          <div class="chart-stage">
            <div id="spaceviews-by-space-24h"></div>
          </div>
          <div class="chart-notes">
            Number of Space Views Grouped by Space in the past 24 hrs. Legend
            ordered by count.
          </div>
        </div>
      </div>

      <div class="col-sm-2">
        <div class="chart-wrapper">
          <div class="chart-title">
            Space Views by User (24 hrs)
          </div>
          <div class="chart-stage">
            <div id="spaceviews-by-user-24h"></div>
          </div>
          <div class="chart-notes">
            Users adding spaces to portfolios
          </div>
        </div>
      </div>

      <div class="col-sm-4">
        <div class="chart-wrapper">
          <div class="chart-title">
            Spaces Added to Portfolios (24 hrs)
          </div>
          <div class="chart-stage">
            <div id="portfolioadds-by-space-24hs"></div>
          </div>
          <div class="chart-notes">
            Spaces added to portfolios
          </div>
        </div>
      </div>

      <div class="col-sm-2">
        <div class="chart-wrapper">
          <div class="chart-title">
            Portfolio Users (24 hrs)
          </div>
          <div class="chart-stage">
            <div id="portfolioadds-by-user-24hs"></div>
          </div>
          <div class="chart-notes">
            Users adding spaces to portfolios
          </div>
        </div>
      </div>

    </div>
</div>

  </div>

  <script src="bower_components/jquery/dist/jquery.min.js"></script>
  <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
  <script src="https://d26b395fwzu5fz.cloudfront.net/latest/keen.min.js"></script>
  <script src="keen.dashboard.js"></script>
  <script>
  var meta = new Keen({
    projectId: "5368fa5436bf5a5623000000",
    writeKey: "725f3a571824d9c29f6e4d1c39af349a114d9034f8e493f95d39802529e2ccbb174033077bdcf10b541dbb50c20105922c59bbe1fe7741cb4b632dd0bc84fe98c0b591e17da3d429ef867cc674be0ad20ad768a5210662d2d18ff5492f37a1f91ce697a5489064bb3fa95c827b6cb394",
    requestType: "beacon"
  });
  meta.addEvent("visits", {
    page: {
      title: document.title,
      host: document.location.host,
      href: document.location.href,
      path: document.location.pathname,
      protocol: document.location.protocol.replace(/:/g, ""),
      query: document.location.search
    },
    visitor: {
      referrer: document.referrer,
      ip_address: "${keen.ip}",
      // tech: {} //^ created by ip_to_geo add-on
      user_agent: "${keen.user_agent}"
      // visitor: {} //^ created by ua_parser add-on
    },
    keen: {
      timestamp: new Date().toISOString(),
      addons: [
        { name:"keen:ip_to_geo", input: { ip:"visitor.ip_address" }, output:"visitor.geo" },
        { name:"keen:ua_parser", input: { ua_string:"visitor.user_agent" }, output:"visitor.tech" }
      ]
    }
  });
  // More data modeling examples here:
  // https://github.com/keenlabs/data-modeling-guide/
  </script>
</body>
</html>
